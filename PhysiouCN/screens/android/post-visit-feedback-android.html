<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>物理治疗预约系统 - 就诊后反馈</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../../css/styles.css">
  <style>
    /* Android特定样式 */
    .material-card {
      background-color: #FFFFFF;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 16px;
      padding: 16px;
      position: relative;
      overflow: hidden;
    }
    
    .material-button {
      background-color: var(--android-primary);
      color: white;
      border: none;
      border-radius: 4px;
      padding: 12px 16px;
      font-size: 14px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      width: 100%;
      margin-bottom: 8px;
      transition: background-color 0.3s;
    }
    
    .material-button:hover {
      background-color: var(--android-primary-dark);
    }
    
    .material-button-secondary {
      background-color: transparent;
      color: var(--android-primary);
      border: 1px solid var(--android-primary);
      border-radius: 4px;
      padding: 12px 16px;
      font-size: 14px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      width: 100%;
      margin-bottom: 8px;
      transition: background-color 0.3s;
    }
    
    .material-button-secondary:hover {
      background-color: rgba(0,0,0,0.05);
    }
    
    .ripple {
      position: absolute;
      background: rgba(255,255,255,0.3);
      border-radius: 50%;
      transform: scale(0);
      animation: ripple 0.6s linear;
      pointer-events: none;
    }
    
    @keyframes ripple {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }
    
    /* 就诊后反馈页面特定样式 */
    .rating-container {
      margin: 16px 0;
    }
    
    .rating-stars {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
    }
    
    .rating-star {
      font-size: 32px;
      color: #E0E0E0;
      cursor: pointer;
    }
    
    .rating-star.active {
      color: #FFC107;
    }
    
    .rating-labels {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--android-text-secondary);
    }
    
    .satisfaction-item {
      margin-bottom: 16px;
    }
    
    .satisfaction-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    
    .satisfaction-title {
      font-weight: 500;
      color: var(--android-text-primary);
    }
    
    .satisfaction-score {
      font-weight: 500;
      color: var(--android-primary);
    }
    
    .satisfaction-bar {
      height: 4px;
      background-color: #E0E0E0;
      border-radius: 2px;
      overflow: hidden;
    }
    
    .satisfaction-progress {
      height: 100%;
      background-color: var(--android-primary);
    }
    
    .emoji-feedback {
      display: flex;
      justify-content: space-between;
      margin: 20px 0;
    }
    
    .emoji-item {
      text-align: center;
      cursor: pointer;
    }
    
    .emoji-icon {
      font-size: 32px;
      margin-bottom: 8px;
      opacity: 0.5;
      transition: all 0.2s ease;
    }
    
    .emoji-item.selected .emoji-icon {
      opacity: 1;
      transform: scale(1.2);
    }
    
    .emoji-label {
      font-size: 12px;
      color: var(--android-text-secondary);
    }
    
    .emoji-item.selected .emoji-label {
      font-weight: 500;
      color: var(--android-text-primary);
    }
    
    .feedback-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 16px 0;
    }
    
    .feedback-tag {
      padding: 6px 12px;
      border-radius: 16px;
      font-size: 13px;
      cursor: pointer;
      background-color: #F5F5F5;
      color: var(--android-text-primary);
    }
    
    .feedback-tag.selected {
      background-color: var(--android-primary);
      color: white;
    }
    
    .android-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #E0E0E0;
      border-radius: 4px;
      font-size: 16px;
      color: var(--android-text-primary);
      background-color: #FFFFFF;
      margin-bottom: 16px;
    }
    
    .android-input:focus {
      border-color: var(--android-primary);
      outline: none;
    }
    
    .android-label {
      display: block;
      font-size: 14px;
      color: var(--android-text-primary);
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .mt-16 {
      margin-top: 16px;
    }
  </style>
</head>
<body>
  <!-- Android 风格就诊后反馈页面 -->
  <div class="device device-android">
    <div class="device-screen">
      <div class="android-container">
        <header class="android-header">
          <div class="android-header-left">
            <i class="material-icons android-back-button" id="back-button">arrow_back</i>
          </div>
          <h1 class="android-title">就诊后反馈</h1>
          <div class="android-header-right">
            <i class="material-icons">more_vert</i>
          </div>
        </header>
        
        <div class="material-card">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <h2 style="font-size: 18px; font-weight: 500; margin: 0; color: var(--android-text-primary);">腰椎康复治疗</h2>
              <p style="color: var(--android-text-secondary); margin: 4px 0 0 0; font-size: 14px;">2023年6月12日 下午2:30</p>
            </div>
            <div style="background-color: #E8F5E9; color: #4CAF50; padding: 4px 12px; border-radius: 16px; font-size: 12px; font-weight: 500; display: flex; align-items: center;">
              <i class="material-icons" style="font-size: 14px; margin-right: 4px;">check_circle</i>
              已完成
            </div>
          </div>
          
          <div style="display: flex; align-items: center; margin-top: 16px;">
            <img src="https://randomuser.me/api/portraits/men/86.jpg" alt="医生头像" style="width: 40px; height: 40px; border-radius: 50%; margin-right: 12px;">
            <div>
              <div style="font-weight: 500; color: var(--android-text-primary);">李医生</div>
              <div style="font-size: 12px; color: var(--android-text-secondary);">主治医师 | 脊柱康复专家</div>
            </div>
          </div>
        </div>
        
        <form>
          <div class="material-card">
            <h3 style="font-size: 16px; font-weight: 500; margin: 0 0 16px 0; color: var(--android-text-primary);">总体评价</h3>
            <p style="color: var(--android-text-secondary); font-size: 14px; margin-bottom: 16px;">请为本次治疗体验评分</p>
            
            <div class="rating-container">
              <div class="rating-stars">
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star">star_border</i>
              </div>
              <div class="rating-labels">
                <span>非常不满意</span>
                <span>非常满意</span>
              </div>
            </div>
            
            <div class="emoji-feedback">
              <div class="emoji-item">
                <div class="emoji-icon">😞</div>
                <div class="emoji-label">失望</div>
              </div>
              <div class="emoji-item">
                <div class="emoji-icon">😐</div>
                <div class="emoji-label">一般</div>
              </div>
              <div class="emoji-item">
                <div class="emoji-icon">🙂</div>
                <div class="emoji-label">满意</div>
              </div>
              <div class="emoji-item selected">
                <div class="emoji-icon">😊</div>
                <div class="emoji-label">很满意</div>
              </div>
              <div class="emoji-item">
                <div class="emoji-icon">🤩</div>
                <div class="emoji-label">非常满意</div>
              </div>
            </div>
          </div>
          
          <div class="material-card">
            <h3 style="font-size: 16px; font-weight: 500; margin: 0 0 16px 0; color: var(--android-text-primary);">满意度评价</h3>
            
            <div class="satisfaction-item">
              <div class="satisfaction-header">
                <span class="satisfaction-title">治疗效果</span>
                <span class="satisfaction-score">4.5/5</span>
              </div>
              <div class="satisfaction-bar">
                <div class="satisfaction-progress" style="width: 90%;"></div>
              </div>
            </div>
            
            <div class="satisfaction-item">
              <div class="satisfaction-header">
                <span class="satisfaction-title">医生专业度</span>
                <span class="satisfaction-score">5/5</span>
              </div>
              <div class="satisfaction-bar">
                <div class="satisfaction-progress" style="width: 100%;"></div>
              </div>
            </div>
            
            <div class="satisfaction-item">
              <div class="satisfaction-header">
                <span class="satisfaction-title">服务态度</span>
                <span class="satisfaction-score">4.8/5</span>
              </div>
              <div class="satisfaction-bar">
                <div class="satisfaction-progress" style="width: 96%;"></div>
              </div>
            </div>
            
            <div class="satisfaction-item">
              <div class="satisfaction-header">
                <span class="satisfaction-title">环境舒适度</span>
                <span class="satisfaction-score">4/5</span>
              </div>
              <div class="satisfaction-bar">
                <div class="satisfaction-progress" style="width: 80%;"></div>
              </div>
            </div>
            
            <div class="satisfaction-item">
              <div class="satisfaction-header">
                <span class="satisfaction-title">预约便捷度</span>
                <span class="satisfaction-score">4.2/5</span>
              </div>
              <div class="satisfaction-bar">
                <div class="satisfaction-progress" style="width: 84%;"></div>
              </div>
            </div>
          </div>
          
          <div class="material-card">
            <h3 style="font-size: 16px; font-weight: 500; margin: 0 0 16px 0; color: var(--android-text-primary);">标签评价</h3>
            <p style="color: var(--android-text-secondary); font-size: 14px; margin-bottom: 16px;">选择适合本次治疗体验的标签（可多选）</p>
            
            <div class="feedback-tags">
              <div class="feedback-tag selected">专业</div>
              <div class="feedback-tag selected">耐心</div>
              <div class="feedback-tag selected">效果好</div>
              <div class="feedback-tag">解释清晰</div>
              <div class="feedback-tag">环境舒适</div>
              <div class="feedback-tag">设备先进</div>
              <div class="feedback-tag">服务周到</div>
              <div class="feedback-tag">价格合理</div>
              <div class="feedback-tag">等待时间短</div>
              <div class="feedback-tag">交通便利</div>
            </div>
          </div>
          
          <div class="material-card">
            <h3 style="font-size: 16px; font-weight: 500; margin: 0 0 16px 0; color: var(--android-text-primary);">治疗效果反馈</h3>
            <p style="color: var(--android-text-secondary); font-size: 14px; margin-bottom: 16px;">请描述本次治疗后的感受和效果</p>
            
            <label class="android-label">疼痛改善程度</label>
            <div class="rating-container">
              <div class="rating-stars">
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star">star_border</i>
              </div>
            </div>
            
            <label class="android-label mt-16">功能改善程度</label>
            <div class="rating-container">
              <div class="rating-stars">
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star active">star</i>
                <i class="material-icons rating-star">star_border</i>
                <i class="material-icons rating-star">star_border</i>
              </div>
            </div>
            
            <label class="android-label mt-16">详细描述</label>
            <textarea class="android-input" style="height: 100px; resize: none;" placeholder="请描述治疗后的感受，包括疼痛、活动度、日常功能等方面的变化..."></textarea>
          </div>
          
          <div class="material-card">
            <h3 style="font-size: 16px; font-weight: 500; margin: 0 0 16px 0; color: var(--android-text-primary);">建议与改进</h3>
            <textarea class="android-input" style="height: 100px; resize: none;" placeholder="请提出您对我们服务的建议和改进意见..."></textarea>
          </div>
          
          <div class="material-card" style="margin-bottom: 80px;">
            <button type="submit" class="material-button">提交反馈</button>
            <button type="button" class="material-button-secondary mt-16">保存草稿</button>
          </div>
        </form>
        
        <div class="android-bottom-nav">
          <div class="android-nav-item">
            <i class="material-icons">home</i>
            <span>首页</span>
          </div>
          <div class="android-nav-item">
            <i class="material-icons">event</i>
            <span>预约</span>
          </div>
          <div class="android-nav-item active">
            <i class="material-icons">description</i>
            <span>记录</span>
          </div>
          <div class="android-nav-item">
            <i class="material-icons">person</i>
            <span>我的</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="../../js/main.js"></script>
  <script>
    // 返回按钮功能
    document.getElementById('back-button').addEventListener('click', function() {
      window.history.back();
    });
    
    // 导航栏交互增强
    const navItems = document.querySelectorAll('.android-nav-item');
    navItems.forEach(item => {
      item.addEventListener('click', function() {
        navItems.forEach(i => i.classList.remove('active'));
        this.classList.add('active');
      });
    });
    
    // 添加涟漪效果
    const buttons = document.querySelectorAll('.material-button, .material-button-secondary, .feedback-tag');
    buttons.forEach(button => {
      button.addEventListener('click', function(e) {
        const x = e.clientX - e.target.getBoundingClientRect().left;
        const y = e.clientY - e.target.getBoundingClientRect().top;
        
        const ripple = document.createElement('span');
        ripple.classList.add('ripple');
        ripple.style.left = `${x}px`;
        ripple.style.top = `${y}px`;
        
        this.appendChild(ripple);
        
        setTimeout(() => {
          ripple.remove();
        }, 600);
      });
    });
    
    // 星级评分交互
    const ratingStars = document.querySelectorAll('.rating-stars');
    ratingStars.forEach(container => {
      const stars = container.querySelectorAll('.rating-star');
      stars.forEach((star, index) => {
        star.addEventListener('click', function() {
          stars.forEach((s, i) => {
            if (i <= index) {
              s.classList.add('active');
              s.textContent = 'star';
            } else {
              s.classList.remove('active');
              s.textContent = 'star_border';
            }
          });
        });
      });
    });
    
    // 表情反馈交互
    const emojiItems = document.querySelectorAll('.emoji-item');
    emojiItems.forEach(item => {
      item.addEventListener('click', function() {
        emojiItems.forEach(i => i.classList.remove('selected'));
        this.classList.add('selected');
      });
    });
    
    // 标签选择交互
    const feedbackTags = document.querySelectorAll('.feedback-tag');
    feedbackTags.forEach(tag => {
      tag.addEventListener('click', function() {
        this.classList.toggle('selected');
      });
    });
    
    // 表单提交
    const form = document.querySelector('form');
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // 收集表单数据
      const formData = {
        overallRating: document.querySelectorAll('.rating-stars')[0].querySelectorAll('.rating-star.active').length,
        emojiRating: document.querySelector('.emoji-item.selected .emoji-label').textContent,
        painImprovement: document.querySelectorAll('.rating-stars')[1].querySelectorAll('.rating-star.active').length,
        functionImprovement: document.querySelectorAll('.rating-stars')[2].querySelectorAll('.rating-star.active').length,
        detailedFeedback: document.querySelectorAll('textarea')[0].value,
        suggestions: document.querySelectorAll('textarea')[1].value,
        selectedTags: Array.from(document.querySelectorAll('.feedback-tag.selected')).map(tag => tag.textContent)
      };
      
      console.log('提交的反馈数据:', formData);
      
      // 这里可以添加提交数据到服务器的逻辑
      alert('感谢您的反馈！');
      
      // 提交成功后可以跳转到其他页面
      // window.location.href = 'treatment-history-android.html';
    });
    
    // 保存草稿按钮
    document.querySelector('.material-button-secondary').addEventListener('click', function() {
      alert('反馈已保存为草稿');
      // 这里可以添加保存草稿的逻辑
    });
  </script>
</body>
</html> 