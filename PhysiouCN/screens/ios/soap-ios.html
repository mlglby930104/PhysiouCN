<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>物理治疗预约系统 - SOAP病例查看</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../../css/styles.css">
  <style>
    /* iOS特定样式 */
    .back-button {
      position: absolute;
      left: 10px;
      top: 10px;
      z-index: 100;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .back-button:hover {
      background: rgba(255, 255, 255, 1);
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    
    .ios-tab {
      transition: all 0.2s;
    }
    
    .ios-tab:active {
      transform: scale(0.95);
      opacity: 0.8;
    }
    
    .ios-button {
      position: relative;
      overflow: hidden;
    }
    
    .ios-button:active::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.1);
    }
    
    /* SOAP病例查看页面特定样式 */
    .soap-section {
      margin-bottom: 16px;
    }
    
    .soap-title {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
    }
    
    .soap-icon {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
      color: white;
      font-weight: 600;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    .soap-icon-s {
      background-color: #5AC8FA;
    }
    
    .soap-icon-o {
      background-color: #FF9500;
    }
    
    .soap-icon-a {
      background-color: #FF2D55;
    }
    
    .soap-icon-p {
      background-color: #4CD964;
    }
    
    .soap-content {
      background-color: #F8F8F8;
      border-radius: 12px;
      padding: 16px;
      font-size: 14px;
      line-height: 1.5;
    }
    
    .soap-item {
      margin-bottom: 12px;
    }
    
    .soap-item:last-child {
      margin-bottom: 0;
    }
    
    .soap-item-title {
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .soap-item-value {
      color: #666;
    }
    
    .soap-table {
      width: 100%;
      border-collapse: collapse;
      margin: 8px 0;
      font-size: 13px;
    }
    
    .soap-table th, .soap-table td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #E5E5EA;
    }
    
    .soap-table th {
      font-weight: 600;
    }
    
    .soap-date {
      text-align: right;
      font-size: 12px;
      color: #999;
      margin-top: 8px;
    }
    
    .soap-doctor {
      display: flex;
      align-items: center;
      margin-top: 12px;
    }
    
    .soap-doctor-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      margin-right: 8px;
      object-fit: cover;
    }
    
    .soap-doctor-info {
      font-size: 12px;
    }
    
    .soap-doctor-name {
      font-weight: 600;
    }
    
    .soap-doctor-title {
      color: #999;
    }
    
    .status-badge {
      background-color: #E5F9E0;
      color: #4CD964;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .soap-expand-button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 8px;
      background-color: transparent;
      border: none;
      color: var(--ios-primary);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 8px;
    }
    
    .soap-expand-button i {
      margin-left: 4px;
      transition: transform 0.2s;
    }
    
    .soap-expand-button.expanded i {
      transform: rotate(180deg);
    }
  </style>
</head>
<body>
  <!-- iOS 风格SOAP病例查看页面 -->
  <div class="device device-ios">
    <div class="device-notch"></div>
    <div class="device-screen">
      <div class="ios-container">
        <header class="ios-header">
          <div class="back-button" id="back-button">
            <i class="fas fa-chevron-left"></i>
          </div>
          <h1 class="ios-title">SOAP病例记录</h1>
        </header>
        
        <div class="ios-card">
          <div class="flex justify-between align-center">
            <div>
              <h2 style="font-size: 18px; font-weight: 600;">腰椎康复治疗</h2>
              <p style="color: var(--ios-text-secondary); margin-top: 4px;">2023年6月12日 下午2:30</p>
            </div>
            <div class="status-badge">
              已完成
            </div>
          </div>
        </div>
        
        <div class="ios-card">
          <div class="soap-section">
            <div class="soap-title">
              <div class="soap-icon soap-icon-s">S</div>
              <h3 style="font-size: 17px; font-weight: 600;">主观资料 (Subjective)</h3>
            </div>
            <div class="soap-content">
              <div class="soap-item">
                <div class="soap-item-title">主诉</div>
                <div class="soap-item-value">患者报告腰部疼痛，尤其在久坐后加重。疼痛程度为3/10，较上次就诊时的5/10有所改善。</div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">疼痛特征</div>
                <div class="soap-item-value">钝痛，偶尔向右腿放射。早晨起床时疼痛较轻，晚上较重。</div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">加重因素</div>
                <div class="soap-item-value">久坐、弯腰、提重物</div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">缓解因素</div>
                <div class="soap-item-value">休息、热敷、轻度活动</div>
              </div>
            </div>
            <button class="soap-expand-button" data-section="subjective">
              查看更多 <i class="fas fa-chevron-down"></i>
            </button>
          </div>
          
          <div class="soap-section">
            <div class="soap-title">
              <div class="soap-icon soap-icon-o">O</div>
              <h3 style="font-size: 17px; font-weight: 600;">客观资料 (Objective)</h3>
            </div>
            <div class="soap-content">
              <div class="soap-item">
                <div class="soap-item-title">关节活动度</div>
                <table class="soap-table">
                  <tr>
                    <th>动作</th>
                    <th>范围</th>
                    <th>疼痛</th>
                  </tr>
                  <tr>
                    <td>前屈</td>
                    <td>0-70°</td>
                    <td>轻度</td>
                  </tr>
                  <tr>
                    <td>后伸</td>
                    <td>0-20°</td>
                    <td>中度</td>
                  </tr>
                  <tr>
                    <td>左侧屈</td>
                    <td>0-25°</td>
                    <td>无</td>
                  </tr>
                  <tr>
                    <td>右侧屈</td>
                    <td>0-20°</td>
                    <td>轻度</td>
                  </tr>
                </table>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">肌力测试</div>
                <div class="soap-item-value">腰椎伸肌: 4/5, 腹肌: 3+/5, 髋屈肌: 4/5</div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">特殊测试</div>
                <div class="soap-item-value">直腿抬高测试: 右侧70°出现症状, 左侧阴性</div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">触诊</div>
                <div class="soap-item-value">L4-L5水平棘突间压痛，右侧腰方肌紧张</div>
              </div>
            </div>
            <button class="soap-expand-button" data-section="objective">
              查看更多 <i class="fas fa-chevron-down"></i>
            </button>
          </div>
          
          <div class="soap-section">
            <div class="soap-title">
              <div class="soap-icon soap-icon-a">A</div>
              <h3 style="font-size: 17px; font-weight: 600;">评估 (Assessment)</h3>
            </div>
            <div class="soap-content">
              <div class="soap-item">
                <div class="soap-item-title">诊断</div>
                <div class="soap-item-value">L4-L5椎间盘突出症，伴有右侧坐骨神经痛</div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">功能问题</div>
                <div class="soap-item-value">
                  1. 腰椎活动度受限，尤其是前屈和右侧屈<br>
                  2. 核心肌群力量不足<br>
                  3. 姿势不良，久坐时腰椎过度前凸
                </div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">恢复进展</div>
                <div class="soap-item-value">较上次就诊有明显改善，疼痛程度降低，活动度增加</div>
              </div>
            </div>
            <button class="soap-expand-button" data-section="assessment">
              查看更多 <i class="fas fa-chevron-down"></i>
            </button>
          </div>
          
          <div class="soap-section">
            <div class="soap-title">
              <div class="soap-icon soap-icon-p">P</div>
              <h3 style="font-size: 17px; font-weight: 600;">计划 (Plan)</h3>
            </div>
            <div class="soap-content">
              <div class="soap-item">
                <div class="soap-item-title">治疗计划</div>
                <div class="soap-item-value">
                  1. 腰椎牵引治疗，20分钟<br>
                  2. 手法治疗，缓解腰方肌紧张<br>
                  3. 核心肌群稳定性训练<br>
                  4. 姿势纠正教育
                </div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">家庭锻炼计划</div>
                <div class="soap-item-value">
                  1. 每日进行猫牛式伸展，3组，每组10次<br>
                  2. 平板支撑训练，3组，每组30秒<br>
                  3. 骨盆倾斜练习，每天3次，每次10个
                </div>
              </div>
              <div class="soap-item">
                <div class="soap-item-title">下次复诊</div>
                <div class="soap-item-value">建议一周后复诊，继续评估恢复情况</div>
              </div>
            </div>
            <button class="soap-expand-button" data-section="plan">
              查看更多 <i class="fas fa-chevron-down"></i>
            </button>
          </div>
          
          <div class="soap-date">记录时间: 2023-06-12 15:45</div>
          
          <div class="soap-doctor">
            <img src="https://randomuser.me/api/portraits/men/86.jpg" alt="医生头像" class="soap-doctor-avatar">
            <div class="soap-doctor-info">
              <div class="soap-doctor-name">李医生</div>
              <div class="soap-doctor-title">主治医师 | 脊柱康复专家</div>
            </div>
          </div>
        </div>
        
        <div class="ios-card">
          <button class="ios-button" id="history-button">查看历史SOAP记录</button>
          <button class="ios-button-secondary mt-16" id="download-button">下载PDF报告</button>
        </div>
        
        <div style="height: 80px;"></div>
        
        <div class="ios-tab-bar">
          <div class="ios-tab">
            <i class="fas fa-home"></i>
            <span>首页</span>
          </div>
          <div class="ios-tab">
            <i class="far fa-calendar-alt"></i>
            <span>预约</span>
          </div>
          <div class="ios-tab active">
            <i class="fas fa-clipboard-list"></i>
            <span>记录</span>
          </div>
          <div class="ios-tab">
            <i class="far fa-user"></i>
            <span>我的</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="../../js/main.js"></script>
  <script>
    // 返回按钮功能
    document.getElementById('back-button').addEventListener('click', function() {
      window.history.back();
    });
    
    // 导航栏交互增强
    const tabs = document.querySelectorAll('.ios-tab');
    tabs.forEach(tab => {
      tab.addEventListener('click', function() {
        tabs.forEach(t => t.classList.remove('active'));
        this.classList.add('active');
      });
    });
    
    // 展开/收起SOAP内容
    const expandButtons = document.querySelectorAll('.soap-expand-button');
    expandButtons.forEach(button => {
      button.addEventListener('click', function() {
        const section = this.getAttribute('data-section');
        const content = this.previousElementSibling;
        
        if (this.classList.contains('expanded')) {
          // 收起内容
          this.classList.remove('expanded');
          this.innerHTML = '查看更多 <i class="fas fa-chevron-down"></i>';
        } else {
          // 展开内容
          this.classList.add('expanded');
          this.innerHTML = '收起 <i class="fas fa-chevron-up"></i>';
          
          // 这里可以添加加载更多内容的逻辑
          // 例如通过AJAX请求获取完整的SOAP记录
        }
      });
    });
    
    // 查看历史记录按钮
    document.getElementById('history-button').addEventListener('click', function() {
      alert('将显示历史SOAP记录列表');
      // 这里可以添加跳转到历史记录页面的逻辑
    });
    
    // 下载PDF按钮
    document.getElementById('download-button').addEventListener('click', function() {
      alert('正在生成PDF报告，请稍候...');
      // 这里可以添加下载PDF的逻辑
    });
  </script>
</body>
</html> 